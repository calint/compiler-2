; generated by baz

true equ 1
false equ 0

section .data
align 4
;[7:1] field fld=42 
fld: dq 42
;[8:1] field str="hello world" 
str: db 'hello world'
str.len equ $-str

section .bss
align 4
stk resd 1024
stk.end:

section .text
align 4
bits 64
global _start
_start:
mov rsp,stk.end
mov rbp,rsp
jmp main

main:
;  obj: qword[rbp-40]
;  [14:2] var obj:object=1 
;  [14:6] obj=1 
;  [14:17] 1 
;  [14:17] obj=1 
   mov qword[rbp-40],1
   if_15_5:
;  [15:5] ? not obj.pos.x=1 
;  [15:5] ? not obj.pos.x=1 
   cmp_15_5:
   cmp qword[rbp-40],1
   je if_15_2_end
   jmp if_15_5_code
   if_15_5_code:
;    [15:21] exit(1)
;    exit(v:reg_rdi) 
;      inline: 15_21
;      alloc rdi
;      alias v -> rdi
       mov rdi,1
;      [2:2] mov(rax,60)
       mov rax,60
;      [2:14] # exit system call 
;      [3:2] mov(rdi,v)
;      [3:14] # return code 
;      [4:2] syscall 
       syscall
;      free rdi
     exit_15_21_end:
   if_15_2_end:
;  [16:2] exit(0)
;  exit(v:reg_rdi) 
;    inline: 16_2
;    alloc rdi
;    alias v -> rdi
     mov rdi,0
;    [2:2] mov(rax,60)
     mov rax,60
;    [2:14] # exit system call 
;    [3:2] mov(rdi,v)
;    [3:14] # return code 
;    [4:2] syscall 
     syscall
;    free rdi
   exit_16_2_end:

; max scratch registers in use: 1
;            max frames in use: 5
